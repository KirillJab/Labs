//---------------------------------------------------------------------------

#pragma hdrstop

#include <vcl.h>
#include "Unit1.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;
ÑRect R(100, 100, 200, 300), cargo(10,10,20,20);
bool filled;
int vertical, k = 1;



__fastcall TForm1::TForm1(TComponent* Owner)
	: TForm(Owner)
{
	Image->Canvas->Pen->Color=clWhite;
}

void __fastcall TForm1::Button1Click(TObject *Sender)
{
		R.show(Image->Canvas);
		Button2->Visible = true;
}

void __fastcall TForm1::Button2Click(TObject *Sender)
{
	Button3->Visible = true;
	Button4->Visible = true;
}

void __fastcall TForm1::Button3Click(TObject *Sender)
{
	k *= -1;
}

void __fastcall TForm1::Button4Click(TObject *Sender)
{
	Timer->Enabled = !Timer->Enabled;
	if(Timer->Enabled)
	{
		Button4->Caption = "Stop the cart";
	}
	else
	{
		Button4->Caption = "Push the cart";
	}
}


void __fastcall TForm1::TimerTimer(TObject *Sender)
{
	if(filled)
	{
		R.hide(Image->Canvas);
		R.move(Canvas, k * 3, 0, k * 3, 0);
		R.show(Image->Canvas);
	}
	else
	{
		Cargo.hide(Image->Canvas);
		Cargo.move(Canvas, 0, 1, 1, 0);
		Cargo.show(Image->Canvas);
    }
}
